<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>F&Sé£›ç¿”æ—…è¡Œ | åŠ æ‹¿å¤§æ±å²¸ & èŠåŠ å“¥æ¢ç´¢ä¹‹æ—…</title>
    
    <!-- PWA Manifest and Theme Color -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="F&Sé£›ç¿”æ—…è¡Œ">
    <meta name="theme-color" content="#4f46e5">
    <link rel="manifest" href="data:application/manifest+json;base64,ew0KICAic2hvcnRfbmFtZSI6ICJGJlPkvZXlvLpUSEsiLA0KICAibmFtZSI6ICJGJlPkvZXlvLpUSEsiLCANCiAgImljb25zIjogWw0KICAgIHsNCiAgICAgICJzcmMiOiAiaHR0cHM6Ly9wbGFjZWhvbGQuY28vMTkyeDE5Mi80ZjQ2ZTUvZmZmZmZmP3RleHQ9RlMlMjZTIiwNCiAgICAgICJ0eXBlIjogImltYWdlL3BuZyIsDQogICAgICAic2l6ZXMiOiAiMTkyeDE5MiINCiAgICB9LA0KICAgIHsNCiAgICAgICJzcmMiOiAiaHR0cHM6Ly9wbGFjZWhvbGQuY28vNTEyeDUxMi80ZjQ2ZTUvZmZmZmZmP3RleHQ9RlMlMjZTIiwNCiAgICAgICJ0eXBlIjogImltYWdlL3BuZyIsDQogICAgICAic2l6ZXMiOiAiNTEyeDUxMiINCiAgICB9DQogIF0sDQogICJzdGFydF91cmwiOiAiLiIsDQogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLA0KICAidGhlbWVfY29sb3IiOiAiI0NGY0NmU1IiwNCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2Y4ZjlmYSIgDQp9">
    <link rel="apple-touch-icon" href="https://placehold.co/180x180/4f46e5/ffffff?text=F%26S">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-color: #4f46e5;
            --brand-color-light: #eef2ff;
        }
        html { scroll-behavior: smooth; }
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: #f8f9fa;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
        h1, h2, h3 { font-family: 'Noto Sans TC', sans-serif; font-weight: 900; }
        
        .trip-card {
            border: 1px solid #e5e7eb;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .trip-card.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .trip-card:hover {
            transform: translateY(-5px) !important;
            box-shadow: 0 10px 20px rgba(0,0,0,0.08), 0 6px 6px rgba(0,0,0,0.1);
        }
        
        /* Animation for Activity Blocks */
        .activity-block {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease-out, transform 0.4s ease-out;
        }

        .is-visible .activity-block {
            opacity: 1;
            transform: translateY(0);
        }

        .sticky-nav {
            position: sticky;
            top: env(safe-area-inset-top);
            z-index: 50;
            transition: box-shadow 0.3s;
        }
        .sticky-nav.scrolled {
             box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .tag { display: inline-block; background-color: var(--brand-color-light); color: #4338ca; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem; font-weight: 500; margin-right: 0.5rem; margin-bottom: 0.5rem; }
        
        .activity-block a {
            font-weight: 600; /* semibold */
            color: #4338ca; /* indigo-700 */
        }
        
        details > summary { 
            list-style: none; 
            cursor: pointer; 
            padding: 1rem 1.25rem;
            transition: background-color 0.3s ease;
        }
        details > summary::-webkit-details-marker { display: none; }
        details .summary-arrow { transition: transform 0.3s; }
        details[open] > summary .summary-arrow { transform: rotate(90deg); }

        summary.summary-travel-day {
            background-color: #fffbeb;
            border-radius: 1rem;
            border: 1px solid #fef3c7;
        }
        summary.summary-travel-day h3 {
            color: #92400e;
        }
        
        summary.summary-today {
            background-color: #f0fdf4;
            border-radius: 1rem;
            border: 2px solid #4ade80;
            position: relative;
        }
        summary.summary-today h3::before {
             content: 'â­';
             margin-right: 0.5rem;
        }

        .weather-display {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.5);
                opacity: 0.7;
            }
        }

        /* --- Map Interaction Styles --- */
        .map-city-link:hover g .map-city-dot, .map-city-link:active g .map-city-dot {
            r: 7;
            fill: #f43f5e; /* rose-500 */
        }
        .map-city-link:hover g text, .map-city-link:active g text {
            font-weight: bold;
        }
        
        .map-city-active g .map-city-dot {
            r: 8;
            fill: #ef4444; /* red-500 */
            stroke: rgba(255, 255, 255, 0.7);
            stroke-width: 1.5px;
        }
        .map-city-active g text {
            font-weight: bold;
            fill: #ef4444;
        }

        .map-city-current g .map-city-dot {
            r: 9;
            fill: #f59e0b; /* amber-500 */
            stroke: white;
            stroke-width: 2px;
            animation: pulse 2s infinite;
        }
        .map-city-current g text {
            font-weight: 900; /* black */
            font-size: 11px;
            fill: #d97706; /* amber-600 */
        }
        
        .route-line {
            stroke: #fb923c;
            stroke-width: 2.5px;
            stroke-dasharray: 5 3;
            fill: none;
            stroke-linecap: round;
            transition: all 0.3s ease-in-out;
        }
        .route-line.highlight, .route-line.highlight-scroll {
            stroke: #ef4444;
            stroke-width: 4px;
            stroke-dasharray: none;
        }

        .transport-icon {
            opacity: 0;
            animation: fadeIn 1s ease-in forwards;
            animation-delay: 2s;
        }
        .animated-route {
            stroke-dasharray: 500;
            stroke-dashoffset: 500;
            animation: draw 2s ease-out forwards;
        }
        
        @keyframes draw { to { stroke-dashoffset: 0; } }
        @keyframes fadeIn { to { opacity: 1; } }

        .nav-pill-group {
            display: inline-flex;
            align-items: center;
            background-color: #e5e7eb;
            border-radius: 9999px;
            padding: 0.25rem;
        }
        .nav-pill {
            padding: 0.375rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #4b5563;
            border-radius: 9999px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .nav-pill.active {
            background-color: white;
            color: var(--brand-color);
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
        .nav-link {
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
        }
        .nav-link.nav-link-active {
            color: var(--brand-color);
            border-bottom-color: var(--brand-color);
        }

        .timezone-block {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .timezone-highlight {
            transform: scale(1.03);
            box-shadow: 0 0 0 3px var(--brand-color);
            background-color: #f0f9ff;
        }
        .day-past {
            display: none;
        }
        .show-past .day-past {
            display: block;
        }
        
        @media print {
            @page { 
                size: A4 portrait; 
                margin: 1cm;
            }
            body { 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact; 
            }
            .no-print, .sticky-nav, #today-btn, #mobile-menu-btn, #time-dashboard { 
                display: none !important; 
            }
            .trip-card, .trip-card.is-visible { 
                box-shadow: none !important; 
                border: 1px solid #e5e7eb !important; 
                page-break-inside: avoid; 
                opacity: 1 !important; 
                transform: none !important; 
            }
            .activity-block {
                opacity: 1 !important;
                transform: none !important;
            }
            main { 
                border-left: none !important; 
                padding-left: 0 !important; 
                margin-left: 0 !important; 
            }
            details { 
                page-break-inside: avoid; 
            }
            details summary .summary-arrow { 
                display: none !important; 
            }
            .day-past {
                display: block !important;
            }
        }
    </style>
</head>
<body class="text-gray-800 leading-relaxed">

    <!-- Sticky Navigation Bar -->
    <nav id="main-nav" class="sticky-nav bg-white/80 backdrop-blur-lg no-print">
        <div class="container mx-auto max-w-6xl px-4">
            <div class="flex justify-between items-center py-3">
                <span class="font-bold text-base sm:text-lg text-indigo-700">Fï¼†Sé£›ç¿”æ—…è¡Œ</span>
                
                <!-- Desktop Navigation -->
                <div class="hidden md:flex flex-grow justify-center items-center space-x-6 text-sm font-medium">
                    <div id="desktop-nav-pills" class="nav-pill-group">
                        <div class="nav-pill active" data-tab="days">æŒ‰å¤©æ•¸</div>
                        <div class="nav-pill" data-tab="cities">æŒ‰åŸå¸‚</div>
                    </div>
                    <div id="desktop-nav-content-days" class="flex items-center space-x-4">
                        <a href="#day1" data-navlink-day="1" class="py-2 nav-link">Day 1-2</a>
                        <a href="#day3" data-navlink-day="3" class="py-2 nav-link">Day 3-4</a>
                        <a href="#day5" data-navlink-day="5" class="py-2 nav-link">Day 5-6</a>
                        <a href="#day7" data-navlink-day="7" class="py-2 nav-link">Day 7-9</a>
                        <a href="#day10" data-navlink-day="10" class="py-2 nav-link">Day 10-14</a>
                    </div>
                    <div id="desktop-nav-content-cities" class="hidden space-x-4">
                        <a href="#montreal-section" data-navlink-city="montreal-section" class="py-2 nav-link">è’™ç‰¹å©</a>
                        <a href="#quebec-section" data-navlink-city="quebec-section" class="py-2 nav-link">é­åŒ—å…‹å¸‚</a>
                        <a href="#niagara-section" data-navlink-city="niagara-section" class="py-2 nav-link">å°¼åŠ æ‹‰ç€‘å¸ƒ</a>
                        <a href="#chicago-section" data-navlink-city="chicago-section" class="py-2 nav-link">èŠåŠ å“¥</a>
                    </div>
                </div>
                 <div class="hidden md:flex items-center space-x-4 text-sm">
                    <a href="#tip-calculator-section" class="nav-utils py-2 text-gray-600 hover:text-indigo-700 transition-colors">ğŸ§® å°è²»è¨ˆç®—</a>
                    <a href="#links-dashboard" class="nav-utils py-2 text-gray-600 hover:text-indigo-700 transition-colors">ğŸ”— å¸¸ç”¨é€£çµ</a>
                    <button id="print-btn" class="no-print inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" /></svg>
                        åˆ—å°è¡Œç¨‹
                    </button>
                </div>

                <!-- Mobile Navigation: Hamburger Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Panel -->
        <div id="mobile-menu-panel" class="md:hidden hidden bg-white shadow-lg">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#day1" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">Day 1-2 (è’™ç‰¹å©)</a>
                <a href="#day3" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">Day 3-4 (é­åŒ—å…‹)</a>
                <a href="#day5" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">Day 5-6 (å°¼åŠ æ‹‰)</a>
                <a href="#day7" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">Day 7-9 (èŠåŠ å“¥)</a>
                <a href="#day10" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">Day 10-14 (è¿”ç¨‹)</a>
            </div>
            <div class="pt-4 pb-3 border-t border-gray-200">
                <div class="px-2 space-y-1">
                    <a href="#tip-calculator-section" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">ğŸ§® å°è²»è¨ˆç®—æ©Ÿ</a>
                    <a href="#links-dashboard" class="mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">ğŸ”— å¸¸ç”¨é€£çµ</a>
                    <button id="mobile-print-btn" class="w-full text-left mobile-nav-link block px-3 py-3 rounded-md text-base font-medium text-gray-700 hover:text-indigo-700 hover:bg-gray-50">ğŸ“„ åˆ—å°è¡Œç¨‹</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-6xl">
        
        <!-- Live Time Dashboard -->
        <section id="time-dashboard" class="mb-12 no-print">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                <div id="time-montreal-block" class="timezone-block bg-white p-4 rounded-lg shadow text-center">
                    <h2 class="text-sm font-bold text-gray-500">ğŸ è’™ç‰¹å©/é­åŒ—å…‹</h2>
                    <p id="time-montreal" class="text-xl sm:text-2xl font-mono font-bold text-gray-800">--:--:--</p>
                    <p id="date-montreal" class="text-xs text-gray-400">---</p>
                </div>
                <div id="time-chicago-block" class="timezone-block bg-white p-4 rounded-lg shadow text-center">
                    <h2 class="text-sm font-bold text-gray-500">ğŸ‡ºğŸ‡¸ èŠåŠ å“¥</h2>
                    <p id="time-chicago" class="text-xl sm:text-2xl font-mono font-bold text-gray-800">--:--:--</p>
                    <p id="date-chicago" class="text-xs text-gray-400">---</p>
                </div>
                 <div id="time-taipei-block" class="timezone-block bg-white p-4 rounded-lg shadow text-center">
                    <h2 class="text-sm font-bold text-gray-500">ğŸ‡¹ğŸ‡¼ å°åŒ—</h2>
                    <p id="time-taipei" class="text-xl sm:text-2xl font-mono font-bold text-gray-800">--:--:--</p>
                    <p id="date-taipei" class="text-xs text-gray-400">---</p>
                </div>
            </div>
        </section>

        <!-- Itinerary Overview Map -->
        <section class="mb-12 sm:mb-16 bg-white rounded-2xl shadow-lg p-4 sm:p-6 md:p-8 ring-1 ring-gray-200 trip-card">
            <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-gray-900 flex items-center">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 mr-3 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m0 13V7m0 13L9 7" /></svg>
                è¡Œç¨‹ç¸½è¦½åœ°åœ–
            </h2>
            <div class="w-full bg-gray-50 rounded-lg p-2 sm:p-4 border">
                 <svg viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
                    <!-- Beautified Background -->
                    <path d="M 20 170 Q 150 180 250 130 T 380 110" stroke="#cae8ff" stroke-width="15" fill="none" stroke-linecap="round" />
                    <text x="25" y="185" font-size="8" fill="#5b95c2" font-weight="bold">è–ç¾…å€«æ–¯æ²³</text>
                    <path d="M 240 135 C 200 110, 150 100, 100 115" stroke="#cae8ff" stroke-width="25" fill="none" stroke-linecap="round" />
                    <text x="140" y="105" font-size="8" fill="#5b95c2" font-weight="bold">å®‰å¤§ç•¥æ¹–</text>
                    
                    <!-- Animated Route Lines -->
                    <g id="map-routes">
                        <path id="path-qc-mtl" class="route-line animated-route" d="M350 115 L 290 125" style="animation-delay: 0s;"/>
                        <path id="path-qc-yyz" class="route-line animated-route" d="M350,115 A150,150 0 0,0 230,120" style="animation-delay: 0.5s;"/>
                        <path id="path-to-nf" class="route-line animated-route" d="M230 120 L 200 110" style="animation-delay: 1s;"/>
                        <path id="path-nf-chi" class="route-line animated-route" d="M200,110 A150,150 0 0,0 80,100" style="animation-delay: 1.5s;"/>
                    </g>
                    
                    <!-- Transport Icons -->
                    <g id="map-icons">
                        <text x="315" y="125" font-size="12" class="transport-icon" style="animation-delay: 1s;">ğŸš„</text> <!-- Mtl-QC -->
                        <text x="285" y="100" font-size="12" class="transport-icon" style="animation-delay: 1.5s;">âœˆï¸</text> <!-- QC-TO -->
                        <text x="210" y="119" font-size="12" class="transport-icon" style="animation-delay: 2s;">ğŸšŒ</text> <!-- TO-NF -->
                        <text x="135" y="90" font-size="12" class="transport-icon" style="animation-delay: 2.5s;">âœˆï¸</text> <!-- NF-CHI -->
                    </g>
                    
                    <!-- City Points -->
                    <a href="#quebec-section" class="map-city-link" data-city-id="quebec-section" data-path-id="path-qc-mtl,path-qc-yyz"><g class="cursor-pointer"><circle cx="350" cy="115" r="5" fill="#1d4ed8" class="map-city-dot"/><text x="355" y="110" font-size="10" fill="#333">é­åŒ—å…‹å¸‚</text><text x="355" y="122" font-size="7" fill="#666">Day 3-4</text></g></a>
                    <a href="#montreal-section" class="map-city-link" data-city-id="montreal-section" data-path-id="path-qc-mtl"><g class="cursor-pointer"><circle cx="290" cy="125" r="5" fill="#1d4ed8" class="map-city-dot"/><text x="295" y="138" font-size="10" fill="#333">è’™ç‰¹å©</text><text x="295" y="150" font-size="7" fill="#666">Day 1-2</text></g></a>
                    <a href="#niagara-section" class="map-city-link" data-city-id="niagara-section" data-path-id="path-qc-yyz,path-to-nf"><g class="cursor-pointer"><circle cx="230" cy="120" r="5" fill="#1d4ed8" class="map-city-dot"/><text x="235" y="115" font-size="10" fill="#333">å¤šå€«å¤š</text><text x="235" y="127" font-size="7" fill="#666">(è½‰é‹)</text></g></a>
                    <a href="#niagara-section" class="map-city-link" data-city-id="niagara-section" data-path-id="path-to-nf,path-nf-chi"><g class="cursor-pointer"><circle cx="200" cy="110" r="5" fill="#1d4ed8" class="map-city-dot"/><text x="145" y="95" font-size="10" fill="#333">å°¼åŠ æ‹‰ç€‘å¸ƒ</text><text x="175" y="122" font-size="7" fill="#666">Day 5-6</text></g></a>
                    <a href="#chicago-section" class="map-city-link" data-city-id="chicago-section" data-path-id="path-nf-chi"><g class="cursor-pointer"><circle cx="80" cy="100" r="5" fill="#1d4ed8" class="map-city-dot"/><text x="25" y="105" font-size="10" fill="#333">èŠåŠ å“¥</text><text x="25" y="117" font-size="7" fill="#666">Day 7-12</text></g></a>
                </svg>
            </div>
        </section>

        <!-- Past Itinerary Toggle Switch -->
        <div class="flex justify-end items-center mb-4 no-print">
            <label for="show-past-toggle" class="flex items-center cursor-pointer text-sm font-medium text-gray-700">
                <span class="mr-3">é¡¯ç¤ºéå»è¡Œç¨‹</span>
                <div class="relative">
                    <input type="checkbox" id="show-past-toggle" class="sr-only peer">
                    <div class="block bg-gray-200 w-10 h-6 rounded-full peer-checked:bg-indigo-300 transition-colors"></div>
                    <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform peer-checked:translate-x-full"></div>
                </div>
            </label>
        </div>


        <!-- Itinerary Cards -->
        <main class="space-y-8">
            
            <section id="montreal-section" data-city-section="montreal-section" class="trip-card"></section>
            
            <div data-day="1" data-date="2025-07-02" data-day-group="1" data-city-target="montreal-section" data-weather-city="montreal">
                <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden" open>
                    <summary class="summary-travel-day flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-amber-700">Day 1ï½œ7æœˆ2æ—¥ï¼ˆé€±ä¸‰ï¼‰</p>
                            <h3 id="day1" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">è’™ç‰¹å©æŠµé”æ—¥</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#è½‰æ©ŸæŠµé”</span><span class="tag">#å…¥å¢ƒæº–å‚™</span><span class="tag">#æ™‚å·®é©æ‡‰</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                 <h4 class="font-bold text-lg text-blue-800">âœˆï¸ èˆªç­è³‡è¨Šèˆ‡æŠµé”å®‰æ’</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>èˆªç­ BR198ï¼š</strong>å°åŒ—æ¾å±±(TSA) 09:00 èµ·é£› â†’ æ±äº¬æˆç”°(NRT) 13:25 æŠµé”ã€‚</li>
                                    <li><strong>èˆªç­ AC6ï¼š</strong>æ±äº¬æˆç”°(NRT) 17:35 èµ·é£› â†’ è’™ç‰¹å©(YUL) 17:00ï¼ˆåŒæ—¥ï¼‰æŠµé”ã€‚</li>
                                    <li>â€» å› æ™‚å·®é—œä¿‚ï¼Œæœƒæ˜¯â€œæ™‚å…‰å€’æµâ€çš„æ„Ÿè¦ºï¼Œä½†å¯¦éš›é£›è¡Œæ™‚é–“ç´„ 12 å°æ™‚ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ›‚ æŠµé”è’™ç‰¹å©æ©Ÿå ´ï¼ˆYULï¼‰</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>é è¨ˆé€šé—œ + è¡Œææé ˜æ™‚é–“ï¼š</strong>ç´„ 60â€“90 åˆ†é˜ã€‚</li>
                                    <li><strong>å»ºè­°å®Œæˆå…¥å¢ƒå¾Œå…ˆè³¼è²·ï¼š</strong>ğŸ“± SIM å¡ï¼ˆæ¨è–¦ï¼šBell / Fido æ«ƒå°ï¼‰ã€ğŸš‡ STM äº¤é€šç¥¨åˆ¸ï¼ˆå–®ç¨‹ç¥¨ or OPUS 3æ—¥å¡ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸš• å‰å¾€å¸‚å€é£¯åº—</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>747 Express Bus (24å°æ™‚ç‡Ÿé‹)ï¼š</strong>è²»ç”¨ CA$11ï¼Œè¡Œç¨‹ç´„ 45â€“60 åˆ†é˜ï¼Œå¯ç›´æ¥ç”¨ä¿¡ç”¨å¡åˆ·é€²ç«™ã€‚</li>
                                    <li><strong>Uberï¼Taxiï¼š</strong>ç´„ CA$45â€“55ï¼Œè»Šç¨‹ç´„ 30â€“40 åˆ†é˜ã€‚</li>
                                    <li><strong>é£¯åº—å»ºè­°åœ°é»ï¼š</strong><a href="https://maps.apple.com/?q=Vieux-MontrÃ©al" target="_blank" class="hover:underline">Vieux-MontrÃ©alï¼ˆèˆŠåŸå€ï¼‰</a>æˆ– <a href="https://maps.apple.com/?q=Berri-UQAM" target="_blank" class="hover:underline">Berri-UQAMï¼Quartier Latin</a>ã€‚</li>
                                </ul>
                            </div>
                             <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸŒ‡ 19:00â€“21:00 é£¯åº—å®‰é “ï¼‹ç°¡å–®å¤œé–“æ•£æ­¥</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                     <li><strong>å¤•é™½å¤œæ™¯è·¯ç·šï¼š</strong>æ²¿<a href="https://maps.apple.com/?q=Old+Port+of+Montreal" target="_blank" class="hover:underline">èˆŠæ¸¯</a>æ…¢è¡Œè‡³ <a href="https://maps.apple.com/?q=La+Grande+Roue+de+MontrÃ©al" target="_blank" class="hover:underline">La Grande Roue æ‘©å¤©è¼ªå€</a>ï¼Œçœ‹è–å‹å€«æ–¯æ²³å¤œæ™¯ã€‚</li>
                                     <li><strong>è¼•é£Ÿå»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Olive+et+Gourmando" target="_blank" class="hover:underline">Olive et Gourmando</a> æˆ– <a href="https://maps.apple.com/?q=Maison+Christian+Faure" target="_blank" class="hover:underline">Maison Christian Faure</a>ï¼ˆç”œé»å¡”æ´¾ï¼‰ã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-amber-100/60 rounded-lg border-l-4 border-amber-400">
                                <h4 class="font-bold text-amber-800 flex items-center mb-2">ğŸŒ™ ç¡å‰æé†’</h4>
                                <ul class="list-disc list-inside mt-2 text-amber-900/80 space-y-1">
                                    <li>ğŸ§´ å»ºè­°æ³¡æ¾¡æ”¾é¬†ï¼Œé¿å…æ™‚å·®å½±éŸ¿éå¤§ã€‚</li>
                                    <li>ğŸ•“ ç›¡é‡èª¿æ•´ä½œæ¯è‡³ç•¶åœ°æ™‚é–“ï¼Œé¿å…å¤ªæ—©å…¥ç¡ã€‚</li>
                                    <li>ğŸ“¦ å¯é †ä¾¿æ‰“é–‹è¡Œæï¼Œæº–å‚™ç¬¬äºŒå¤©åŸå¸‚æ¢ç´¢ç”¨ç‰©ï¼ˆè¡Œå‹•ç¶²è·¯ã€åœ°éµå¡ã€å‚™ç”¨é›¨å…·ï¼‰ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
            <div data-day="2" data-date="2025-07-03" data-day-group="1" data-city-target="montreal-section" data-weather-city="montreal">
                <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 2ï½œ7æœˆ3æ—¥ï¼ˆé€±å››ï¼‰</p>
                            <h3 id="day2" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">è’™ç‰¹å©åŠæ—¥éŠï½œæ•™å ‚ãƒ»å¸‚é›†ãƒ»æ¸¯é‚Šæ¼«æ­¥</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#å“¥å¾·å¼æ•™å ‚</span><span class="tag">#èˆŠæ¸¯æ¼«æ­¥</span><span class="tag">#æ³•å¼é¢¨æƒ…</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">â˜€ï¸ 08:30 â€“ 12:00ï½œèˆŠåŸæ—©æ™¨å·¡ç¦®</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>ğŸ›ï¸ <a href="https://maps.apple.com/?q=Notre-Dame+Basilica+of+Montreal" target="_blank" class="hover:underline">è«¾ç‰¹ä¸¹è–æ¯å¤§æ•™å ‚</a>ï¼š</strong>è’™ç‰¹å©æœ€å…·ä»£è¡¨æ€§çš„å“¥å¾·å¼æ•™å ‚ã€‚è‹¥æœ‰è‹±æ–‡å°è¦½åœ˜ï¼ˆ$15 CADå·¦å³ï¼‰å¯é ç´„åƒåŠ ã€‚å»ºè­°åœç•™ 40â€“60 åˆ†é˜ã€‚</li>
                                    <li><strong>ğŸ™ï¸ <a href="https://maps.apple.com/?q=Place+d'Armes,Montreal" target="_blank" class="hover:underline">Place dâ€™Armes å»£å ´</a> â†’ <a href="https://maps.apple.com/?q=Rue+Saint-Paul,Montreal" target="_blank" class="hover:underline">Rue Saint-Paul æ­¥è¡Œè¡—</a>ï¼š</strong>å……æ»¿æ³•å¼æ®–æ°‘å»ºç¯‰èˆ‡è¡—é ­è—äººï¼Œé©åˆæ‹ç…§ã€è²·ç´€å¿µå“ã€‚</li>
                                </ul>
                            </div>
                             <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ§º 12:00 â€“ 13:30ï½œåˆé¤ + å¸‚é›†å°åƒ</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong><a href="https://maps.apple.com/?q=MarchÃ©+Bonsecours,Montreal" target="_blank" class="hover:underline">MarchÃ© Bonsecoursï¼ˆé‚¦æ–¯å¤çˆ¾å¸‚å ´ï¼‰</a>ï¼š</strong>è—å“ã€æ‰‹å·¥çš‚ã€åœ°æ–¹é£Ÿå“ä¼´æ‰‹ç¦®é¸æ“‡è±å¯Œã€‚</li>
                                    <li><strong>æˆ–å‰å¾€ï¼š</strong><a href="https://maps.apple.com/?q=Modavie,Montreal" target="_blank" class="hover:underline">Modavie Bistro</a>ï¼ˆéŸ³æ¨‚æ³•é¤ï¼‰æˆ– <a href="https://maps.apple.com/?q=Tommy+CafÃ©,Montreal" target="_blank" class="hover:underline">Tommy CafÃ©</a>ï¼ˆäººæ°£å’–å•¡åº—ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸ›ï¸ 13:30 â€“ 15:30ï½œèˆŠæ¸¯å€æ¸¯é‚Šæ•£æ­¥ + æ‘©å¤©è¼ªé«”é©—</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>æ²¿ <a href="https://maps.apple.com/?q=Old+Port+of+Montreal" target="_blank" class="hover:underline">Vieux-Port de MontrÃ©al</a> æ²³å²¸æ¼«æ­¥ï¼Œè‹¥å¤©æ°£è‰¯å¥½å¯æ­ä¹˜ ğŸ¡ <a href="https://maps.apple.com/?q=La+Grande+Roue+de+MontrÃ©al" target="_blank" class="hover:underline">La Grande Roue è’™ç‰¹å©æ‘©å¤©è¼ª</a>ï¼ˆ$25 CAD å·¦å³ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸ§³ 15:30 â€“ 17:00ï½œé£¯åº—å°æ†©ãƒ»æ•´ç†è¡Œæ</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å›é£¯åº—ç¨ä½œä¼‘æ¯ï¼Œæˆ–å‰å¾€è¶…å¸‚ï¼ˆå¦‚ IGAã€Metroï¼‰è£œçµ¦ã€‚</li>
                                    <li>æ•´ç†ç¿Œæ—¥è½‰å¾€é­åŒ—å…‹çš„è¡Œæï¼ˆå»ºè­°æå‰é è¨‚ VIA Rail ç«è»Šï¼‰ã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-teal-100/60 rounded-lg border-l-4 border-teal-400">
                                <h4 class="font-bold text-teal-800 flex items-center mb-2">â­ è’™ç‰¹å©å¯¦ç”¨è³‡è¨Š</h4>
                                <ul class="list-disc list-inside mt-2 text-teal-900/80 space-y-1">
                                    <li>ğŸ’³ åœ°éµä½¿ç”¨ STM ç³»çµ±ï¼Œä¸€æ—¥ç¥¨æˆ– OPUS å¡çš†å¯ã€‚</li>
                                    <li>ğŸ—£ é›–ä»¥æ³•èªç‚ºä¸»ï¼Œä½†è§€å…‰å€è‹±æ–‡é€šç”¨ï¼Œç”¨ã€ŒBonjour / Merciã€é–‹å ´æ›´æœ‰ç¦®ã€‚</li>
                                    <li>ğŸ‘Ÿ é‹å­è«‹é¸æ“‡é©åˆæ­¥è¡Œçš„ï¼ŒèˆŠåŸå€çŸ³æ¿è·¯æ®µå¤šã€‚</li>
                                    <li>ğŸŒ¤ ä¸ƒæœˆå¤©æ°£ç´„ 22â€“27Â°Cï¼Œæ—¥å¤œæº«å·®ç¨å¤§ï¼Œå»ºè­°æ”œå¸¶è–„å¤–å¥—ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
            <section id="quebec-section" data-city-section="quebec-section" class="trip-card"></section>
            
            <div data-day="3" data-date="2025-07-04" data-day-group="3" data-city-target="quebec-section" data-weather-city="quebec">
                <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                     <summary class="summary-travel-day flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-amber-700">Day 3ï½œ7æœˆ4æ—¥ï¼ˆé€±äº”ï¼‰</p>
                            <h3 id="day3" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">è’™ç‰¹å© â†’ é­åŒ—å…‹å¸‚ï½œVIA Rail è½‰ç§»ãƒ»ä¸ŠåŸå€åˆæ¢</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#ç«è»Šæ—…ç¨‹</span><span class="tag">#å¤åŸåˆæ¢</span><span class="tag">#ä¸–ç•Œéºç”¢</span></div>
                        <div class="space-y-6">
                             <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">ğŸš„ 07:30 â€“ 12:00ï½œæ­ä¹˜ VIA Rail å‰å¾€é­åŒ—å…‹</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æ—©é¤ï¼š</strong>å¯è‡³ <a href="https://maps.apple.com/?q=Boulangerie+PremiÃ¨re+Moisson,Montreal" target="_blank" class="hover:underline">PremiÃ¨re Moisson</a> å¤–å¸¶å¯é Œï¼‹å’–å•¡ã€‚</li>
                                    <li>æ­åœ°éµè‡³ Bonaventure ç«™å³é”<a href="https://maps.apple.com/?q=Gare+Centrale,Montreal" target="_blank" class="hover:underline">ä¸­å¤®ç«è»Šç«™ (Gare Centrale)</a>ã€‚</li>
                                    <li><strong>å»ºè­°ç­æ¬¡ 08:45 â€“ 12:00ï¼š</strong>è¡Œç¨‹ç´„ 3 å°æ™‚ 15 åˆ†é˜ï¼Œæ²¿é€”æ¬£è³é„‰é–“æ™¯è‡´ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ§³ 12:00 â€“ 13:30ï½œæŠµé”é­åŒ—å…‹å¸‚ â†’ å…¥ä½é£¯åº— â†’ åˆé¤</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æŠµé”ç«™ï¼š</strong><a href="https://maps.apple.com/?q=Gare+du+Palais,Quebec" target="_blank" class="hover:underline">Gare du Palais</a>ï¼Œä½æ–¼èˆŠåŸå€åŒ—å´ã€‚</li>
                                    <li><strong>å»ºè­°ä½å®¿å€åŸŸï¼š</strong>ä¸ŠåŸï¼ˆHaute-Villeï¼‰ï¼Œé è¿‘ <a href="https://maps.apple.com/?q=Fairmont+Le+ChÃ¢teau+Frontenac,Quebec" target="_blank" class="hover:underline">ChÃ¢teau Frontenac</a>ã€‚</li>
                                    <li><strong>åˆé¤å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Le+Chic+Shack,Quebec" target="_blank" class="hover:underline">Le Chic Shack</a>ï¼ˆæ¼¢å ¡ï¼‹å¥¶æ˜”ï¼‰æˆ– <a href="https://maps.apple.com/?q=Buffet+de+lâ€™Antiquaire,Quebec" target="_blank" class="hover:underline">Buffet de lâ€™Antiquaire</a>ï¼ˆé­åŒ—å…‹å®¶å¸¸èœï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                 <h4 class="font-bold text-lg text-purple-800">ğŸ° 14:00 â€“ 17:30ï½œä¸ŠåŸå€åˆæ¢è·¯ç·š</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                     <li><strong>æ­¥è¡Œè·¯ç·šï¼š</strong><a href="https://maps.apple.com/?q=Fairmont+Le+ChÃ¢teau+Frontenac,Quebec" target="_blank" class="hover:underline">èŠ³å ¤å¨œåŸå ¡</a> â†’ <a href="https://maps.apple.com/?q=Dufferin+Terrace,Quebec" target="_blank" class="hover:underline">æœè²»æ—éœ²å°</a> â†’ <a href="https://maps.apple.com/?q=Porte+Saint-Louis,Quebec" target="_blank" class="hover:underline">è–è·¯æ˜“é–€/å¤åŸç‰†</a> â†’ <a href="https://maps.apple.com/?q=HÃ´tel+du+Parlement,Quebec" target="_blank" class="hover:underline">é­åŒ—å…‹çœè­°æœƒ</a>ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸŒƒ 18:00 â€“ 20:30ï½œæ™šé¤ï¼‹å¤œæ™¯æ•£æ­¥</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>é¤å»³å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Aux+Anciens+Canadiens,Quebec" target="_blank" class="hover:underline">Aux Anciens Canadiens</a> (17ä¸–ç´€è€å®…æ³•é¤)ã€‚</li>
                                    <li>é£¯å¾Œå¯å†å›åˆ° Dufferin Terrace æ‹æ”å¤œæ™¯ï¼ŒèŠ³å ¤å¨œåŸå ¡å¤œé–“æ‰“ç‡ˆæ•ˆæœæ¥µä½³ã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-amber-100/60 rounded-lg border-l-4 border-amber-400">
                                <h4 class="font-bold text-amber-800 flex items-center mb-2">ğŸ›ï¸ ç¡å‰å»ºè­°</h4>
                                <ul class="list-disc list-inside mt-2 text-amber-900/80 space-y-1">
                                    <li>è‹¥éš”å¤©ç‚ºé‡åº¦æ­¥è¡Œæ—¥ï¼Œå»ºè­°ä»Šæ™šç°¡å–®ä¼¸å±•ã€æ—©é»ä¼‘æ¯ã€‚</li>
                                    <li>å¯æ–¼ä¾¿åˆ©å•†åº—è³¼è²·ç°¡æ˜“é»å¿ƒæˆ–éš”æ—¥æ—©é¤å„²å‚™ã€‚</li>
                                    <li>å¦‚æœ‰èˆˆè¶£åƒåŠ ç¿Œæ—¥ä»˜è²»å°è¦½ (å¦‚é¬¼æ€ªå¤œéŠã€æ­·å²å°è¦½)ï¼Œå¯ä»Šæ™šå…ˆé ç´„ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>

            <div data-day="4" data-date="2025-07-05" data-day-group="3" data-city-target="quebec-section" data-weather-city="quebec">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 4ï½œ7æœˆ5æ—¥ï¼ˆé€±å…­ï¼‰</p>
                            <h3 id="day4" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">é­åŒ—å…‹å¸‚æ·±åº¦éŠï½œä¸‹åŸã€åšç‰©é¤¨èˆ‡è§€æ™¯å°</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                     <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#å°å°šæ™®è˜­è¡—</span><span class="tag">#æ–‡æ˜åšç‰©é¤¨</span><span class="tag">#äºä¼¯æ‹‰ç½•å¹³åŸ</span></div>
                         <div class="space-y-6">
                           <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">â˜€ï¸ 08:30 â€“ 12:00ï½œä¸‹åŸå€æ¼«æ­¥ + æ–‡æ˜åšç‰©é¤¨</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>æ­ä¹˜<a href="https://maps.apple.com/?q=Funiculaire+du+Vieux-QuÃ©bec" target="_blank" class="hover:underline">ç™»å±±çºœè»Š</a>æˆ–èµ°<a href="https://maps.apple.com/?q=Escalier+Casse-Cou,Quebec" target="_blank">æ–·é ­éšæ¢¯</a>å‰å¾€ä¸‹åŸã€‚</li>
                                    <li>æ¢ç´¢<a href="https://maps.apple.com/?q=Rue+du+Petit-Champlain,Quebec" target="_blank" class="hover:underline">å°å°šæ™®è˜­è¡—</a>èˆ‡<a href="https://maps.apple.com/?q=Place+Royale,Quebec" target="_blank" class="hover:underline">Place Royale å»£å ´</a>ã€‚</li>
                                    <li><strong>10:30 â€“ 12:00ï¼š</strong>åƒè§€<a href="https://www.mcq.org/en/" target="_blank" class="hover:underline">æ–‡æ˜åšç‰©é¤¨ MusÃ©e de la civilisation</a> (å»ºè­°é ç•™ 1.5 å°æ™‚)ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ½ 12:00 â€“ 13:30ï½œåˆé¤æ™‚é–“</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æ¨è–¦é¤å»³ï¼š</strong><a href="https://maps.apple.com/?q=Le+Lapin+SautÃ©,Quebec" target="_blank" class="hover:underline">Le Lapin SautÃ©</a> (å…”è‚‰æ–™ç†) æˆ– <a href="https://maps.apple.com/?q=Cochon+Dingue,Quebec" target="_blank" class="hover:underline">Cochon Dingue</a> (äººæ°£æ—©åˆé¤)ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                 <h4 class="font-bold text-lg text-purple-800">ğŸŒ³ 14:00 â€“ 17:00ï½œäºä¼¯æ‹‰ç½•å¹³åŸ + åŸç‰†å·¡ç¦®</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>æ²¿<a href="https://maps.apple.com/?q=Promenade+des+Gouverneurs,Quebec+City" target="_blank" class="hover:underline">ç¸½ç£æ­¥é“</a>é€²å…¥<a href="https://maps.apple.com/?q=Plains+of+Abraham,Quebec" target="_blank" class="hover:underline">äºä¼¯æ‹‰ç½•å¹³åŸ</a>ã€‚</li>
                                    <li>å¯åƒè§€<a href="https://www.ccbn-nbc.gc.ca/en/plains-of-abraham/plains-of-abraham-museum/" target="_blank" class="hover:underline">å¹³åŸåšç‰©é¤¨</a>ï¼Œæˆ–åœ¨<a href="https://maps.apple.com/?q=Artillery+Park,Quebec" target="_blank" class="hover:underline">åŸç‰†(Artillery Park)</a>ä¸Šæ•£æ­¥ã€‚</li>
                                    <li><strong>å‚™é¸ï¼š</strong><a href="https://www.observatoire-capitale.com/en/" target="_blank" class="hover:underline">Observatoire de la Capitale</a>ï¼ˆè§€æ™¯å°ï¼‰ä¿¯ç°å¤åŸå…¨æ™¯ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸ· 18:00 â€“ 20:30ï½œæ™šé¤èˆ‡å¤œæ™¯æ”¶å°¾</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æ™šé¤å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Chez+Boulay+â€“+Bistro+BorÃ©al,Quebec" target="_blank" class="hover:underline">Chez Boulay â€“ Bistro BorÃ©al</a>ï¼ˆåŒ—æ–¹æ—åœ°å‰µæ„æ–™ç†ï¼‰ã€‚</li>
                                    <li>é£¯å¾Œå¯å†æ¬¡è‡³ Dufferin Terrace æˆ– Place dâ€™Armes æ•£æ­¥ï¼Œæ„Ÿå—å¤åŸå¤œé–“æ°›åœã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-teal-100/60 rounded-lg border-l-4 border-teal-400">
                                <h4 class="font-bold text-teal-800 flex items-center mb-2">â­ é­åŒ—å…‹å¸‚å¯¦ç”¨è³‡è¨Š</h4>
                                <ul class="list-disc list-inside mt-2 text-teal-900/80 space-y-1">
                                    <li>ğŸ—£ æ³•èªç‚ºä¸»ï¼Œä½†è§€å…‰å€è‹±æ–‡OKï¼›æ¨™èªŒä»¥æ³•èªç‚ºä¸»ã€‚</li>
                                    <li>ğŸš¶â€â™€ï¸ çŸ³æ¿å¡é“å¤šï¼Œå»ºè­°ç©¿é˜²æ»‘é‹ã€å‚™æ‰‹æ–å¦‚æœ‰éœ€è¦ã€‚</li>
                                    <li>ğŸ’³ å•†åº—èˆ‡é¤å»³æ™®éæ¥å—ä¿¡ç”¨å¡ï¼Œå°è²»å»ºè­° 15â€“18%ã€‚</li>
                                    <li>ğŸŒ¤ ç™½å¤©æ°£æº«ç´„ 22Â°Cï¼Œå¤œé–“å¯é™è‡³ 16Â°Cï¼Œæ”œå¸¶è–„é•·è¢–å¤–å¥—ã€‚</li>
                                </ul>
                            </div>
                        </div>
                     </div>
                </details>
            </div>

            <section id="niagara-section" data-city-section="niagara-section" class="trip-card"></section>

            <div data-day="5" data-date="2025-07-06" data-day-group="5" data-city-target="niagara-section" data-weather-city="niagara">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="summary-travel-day flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-amber-700">Day 5ï½œ7æœˆ6æ—¥ï¼ˆé€±æ—¥ï¼‰</p>
                            <h3 id="day5" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">é­åŒ—å…‹å¸‚ â†’ å°¼åŠ æ‹‰ç€‘å¸ƒï½œæ‚ é–’å‡ºç™¼ + æŠµé”è§€æ™¯</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#åœ‹å…§èˆªç­</span><span class="tag">#æ©Ÿå ´è½‰ä¹˜</span><span class="tag">#ç€‘å¸ƒå¤œæ™¯</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">â˜• 08:30 â€“ 10:30ï½œæ—©é¤èˆ‡æœ€å¾Œæ•£æ­¥</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æ¨è–¦æ—©é¤åœ°é»ï¼š</strong><a href="https://maps.apple.com/?q=Le+Cochon+Dingue,Quebec" target="_blank" class="hover:underline">Le Cochon Dingue</a> æˆ– <a href="https://maps.apple.com/?q=La+Maison+Smith,Quebec" target="_blank" class="hover:underline">La Maison Smith</a>ã€‚</li>
                                    <li>å¯é¸æ“‡çŸ­è·é›¢æ•£æ­¥ï¼ˆå¦‚ Place Royale å†è¨ªã€æ²¿èŠ³å ¤å¨œåŸå ¡æ‹ç…§æ”¶å°¾ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">âœˆï¸ 11:00 â€“ 14:30ï½œé€€æˆ¿ â†’ å‰å¾€æ©Ÿå ´ â†’ æ­ä¹˜ä¸­åˆèˆªç­</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å»ºè­°æ­ä¹˜èˆªç­å¦‚ Air Canada AC7959ï¼ˆ13:00 YQB â†’ 14:30 YYZï¼‰æˆ–é¡ä¼¼ç­æ¬¡ã€‚</li>
                                    <li>å¾èˆŠåŸè‡³æ©Ÿå ´ç´„ 20â€“30 åˆ†é˜è¨ˆç¨‹è»Šç¨‹ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸšŒ 15:30 â€“ 17:30ï½œè½‰ä¹˜è‡³å°¼åŠ æ‹‰ç€‘å¸ƒ</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>åŒ…è»Šï¼š</strong>ç´„ 1.5 å°æ™‚ç›´é”é£¯åº—ã€‚</li>
                                    <li><strong>å¤§çœ¾é‹è¼¸ï¼š</strong>YYZ æ©Ÿå ´æ­ UP Express è‡³ Union Stationï¼Œè½‰ GO Transit ç«è»Š/å·´å£«è‡³ Niagara Falls (ç¸½ç¨‹ç´„ 2.5â€“3 å°æ™‚)ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸŒ‡ 18:30 â€“ 20:30ï½œç€‘å¸ƒå‰æ•£æ­¥ + æ™¯è§€æ™šé¤</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å…¥ä½ç€‘å¸ƒæ™¯è§€é£¯åº—å¾Œï¼Œå¯å‰å¾€ <a href="https://maps.apple.com/?q=Table+Rock+Welcome+Centre" target="_blank">Table Rock Centre</a>ï¼Œè§€å¯Ÿé»ƒæ˜ç€‘å¸ƒå…‰å½±ã€‚</li>
                                    <li><strong>æ™šé¤å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Skylon+Tower,Niagara+Falls" target="_blank" class="hover:underline">Skylon Tower æ—‹è½‰é¤å»³</a> æˆ– <a href="https://maps.apple.com/?q=The+Keg+Steakhouse,Niagara+Falls" target="_blank" class="hover:underline">The Keg Steakhouse</a>ï¼ˆé çª—ä½ï¼‰ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
            <div data-day="6" data-date="2025-07-07" data-day-group="5" data-city-target="niagara-section" data-weather-city="niagara">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 6ï½œ7æœˆ7æ—¥ï¼ˆä¸€ï¼‰</p>
                            <h3 id="day6" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">å°¼åŠ æ‹‰ç€‘å¸ƒä¸€æ—¥é«”é©—ï½œè§€ç€‘èˆ¹ã€ç…™ç«ã€è‡ªç„¶æ™¯é»</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#ç¶“å…¸é«”é©—</span><span class="tag">#è‡ªç„¶å¥‡è§€</span><span class="tag">#å¤œé–“ç…™ç«</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">ğŸŒŠ 09:00 â€“ 12:00ï½œç¶“å…¸ç€‘å¸ƒä¸‰åˆä¸€é«”é©—</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong><a href="https://www.niagaraparks.com/visit/attractions/niagara-city-cruises/" target="_blank" class="hover:underline">Voyage to the Falls èˆ¹ç¥¨é«”é©—</a>ï¼š</strong>è¿‘è·é›¢æ„Ÿå—ç€‘å¸ƒæ°´å‹¢ï¼Œå»ºè­°ç·šä¸Šé ç´„ä¸Šåˆå ´ã€‚</li>
                                    <li><strong><a href="https://www.niagaraparks.com/visit/attractions/journey-behind-the-falls/" target="_blank" class="hover:underline">Journey Behind the Falls</a>ï¼š</strong>é€²å…¥ç€‘å¸ƒå¾Œæ–¹å²©å£éš§é“è§€è³æ°´æŸ±å‚¾ç€‰ã€‚</li>
                                    <li><strong><a href="https://www.niagaraparks.com/visit/attractions/niagaras-fury/" target="_blank" class="hover:underline">Niagaraâ€™s Fury 4D åŠ‡å ´</a>ï¼ˆå‚™é¸ï¼‰ï¼š</strong>è§€çœ‹ç€‘å¸ƒå½¢æˆæ­·å²çš„æ²‰æµ¸å¼é«”é©—ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ½ 12:30 â€“ 14:00ï½œåˆé¤å»ºè­°</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><a href="https://maps.apple.com/?q=Queen+Victoria+Place+Restaurant,Niagara+Falls" target="_blank" class="hover:underline">Queen Victoria Place Restaurant</a>ï¼ˆæ™¯è§€+ç•¶åœ°é£Ÿæï¼‰æˆ– Table Rock Centre ç¾é£Ÿå»£å ´ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸ¦‹ 14:00 â€“ 17:00ï½œè‡ªç„¶æ™¯é»æ¢ç´¢</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>æ­ä¹˜ <strong>WEGO å·´å£«</strong>ï¼ˆå»ºè­°è³¼è²· Niagara Passï¼‰å‰å¾€ï¼š<a href="https://www.niagaraparks.com/visit/attractions/butterfly-conservatory/" target="_blank" class="hover:underline">Butterfly Conservatory</a>ï¼ˆè´è¶åœ’ï¼‰æˆ– <a href="https://www.niagaraparks.com/visit/attractions/white-water-walk/" target="_blank" class="hover:underline">White Water Walk</a>ï¼ˆæ¿€æµæ­¥é“ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸ· 18:00 â€“ 21:30ï½œæ™šé¤ + å¤œæ™¯ + ç…™ç«</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>å¤œé–“æ´»å‹•ï¼š</strong>ç´„ 21:00 èµ·ç€‘å¸ƒæ‰“ç‡ˆï¼Œ21:45ï½22:00 å­£ç¯€æ€§ç…™ç«ç§€ï¼ˆå¦‚å¤©æ°£è‰¯å¥½ï¼‰ã€‚</li>
                                    <li>å»ºè­°ææ—©è‡³ <a href="https://maps.apple.com/?q=Table+Rock+Welcome+Centre,Niagara+Falls" target="_blank">Table Rock</a> æˆ– <a href="https://maps.apple.com/?q=Queen+Victoria+Park,Niagara+Falls" target="_blank">Queen Victoria Park</a> å¡ä½æ‹ç…§ã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-teal-100/60 rounded-lg border-l-4 border-teal-400">
                                <h4 class="font-bold text-teal-800 flex items-center mb-2">â­ ç€‘å¸ƒå¯¦ç”¨è³‡è¨Š</h4>
                                <ul class="list-disc list-inside mt-2 text-teal-900/80 space-y-1">
                                    <li>ğŸ§¥ åƒåŠ ç€‘å¸ƒèˆ¹èˆ‡å¾Œæ–¹é€šé“æ´»å‹•å‹™å¿…æ”œå¸¶é›¨è¡£ï¼ˆç¾å ´ä¹Ÿæœƒæä¾›ï¼‰ã€‚</li>
                                    <li>ğŸ« å»ºè­°æå‰ç·šä¸Šè³¼è²· <a href="https://www.niagaraparks.com/visit/attractions/adventure-pass-classic" target="_blank" class="hover:underline">Niagara Pass</a>ï¼ˆå«ç¥¨+WEGOè»Šï¼‰é¿å…ç¾å ´æ’éšŠã€‚</li>
                                    <li>ğŸ“· ç›¸æ©Ÿå»ºè­°ä½¿ç”¨é˜²æ°´è¢‹ï¼Œæ‰‹æ©Ÿè«‹æº–å‚™æ“¦æ‹­å¸ƒã€‚</li>
                                    <li>â˜€ï¸ ä¸ƒæœˆæ°£æº«ç´„ 25â€“29Â°Cï¼Œæ—¥æ›¬å¼·çƒˆå»ºè­°å¡—é˜²æ›¬ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
            <section id="chicago-section" data-city-section="chicago-section" class="trip-card"></section>

            <div data-day="7" data-date="2025-07-08" data-day-group="7" data-city-target="chicago-section" data-weather-city="chicago">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="summary-travel-day flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-amber-700">Day 7ï½œ7æœˆ8æ—¥ï¼ˆäºŒï¼‰</p>
                            <h3 id="day7" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">å°¼åŠ æ‹‰ç€‘å¸ƒ â†’ èŠåŠ å“¥ï½œè¼•é¬†è½‰ç§» + æ²³ç•”å¤œè‰²</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                         <div class="my-3"><span class="tag">#è·¨åœ‹é£›è¡Œ</span><span class="tag">#å…¥å¢ƒç¾åœ‹</span><span class="tag">#èŠåŠ å“¥åˆå°è±¡</span></div>
                        <div class="space-y-6">
                           <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">ğŸ§³ 08:30 â€“ 10:00ï½œæ‚ é–’æ—©é¤ + é€€æˆ¿æ•´å‚™</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å»ºè­°ç¡åˆ°è‡ªç„¶é†’ï¼Œæ–¼é£¯åº—å…§æˆ–ç€‘å¸ƒå€é™„è¿‘äº«ç”¨æ—©é¤ã€‚</li>
                                    <li>ç´„ 10:00 å‰é€€æˆ¿ã€æ•´è£å‰å¾€å¤šå€«å¤šæ©Ÿå ´ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸš 10:00 â€“ 12:00ï½œå‰å¾€å¤šå€«å¤šçš®çˆ¾éœæ©Ÿå ´ï¼ˆYYZï¼‰</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>ï¼ˆæ™‚é–“å·²ææ—©ï¼‰</strong>å»ºè­°åŒ…è»Šç›´é”æ©Ÿå ´ï¼Œé ç•™å……è¶³æ™‚é–“æ‡‰å°è·¯æ³èˆ‡ç¾åœ‹æµ·é—œé å…ˆæ¸…é—œã€‚</li>
                                </ul>
                            </div>
                             <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">âœˆï¸ 15:00 â€“ 16:30ï½œå¤šå€«å¤š â†’ èŠåŠ å“¥ï¼ˆORDï¼‰</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>å»ºè­°èˆªç­ï¼š</strong>Air Canada AC515ï¼ˆ15:00â€“16:30ï¼‰æˆ–é¡ä¼¼ç­æ¬¡ã€‚</li>
                                    <li>æŠµé”èŠåŠ å“¥ Oâ€™Hare æ©Ÿå ´å¾Œï¼Œå…¥å¢ƒä¸¦æ­ä¹˜åœ°éµ Blue Line å‰å¾€å¸‚ä¸­å¿ƒã€‚</li>
                                </ul>
                            </div>
                             <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸŒ‡ 18:30 â€“ 21:00ï½œèŠåŠ å“¥æ²³ç•”æ•£æ­¥ + Deep Dish æ™šé¤</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å…¥ä½é£¯åº—å¾Œï¼Œå¯æ²¿ <a href="https://maps.apple.com/?q=Chicago+Riverwalk" target="_blank" class="hover:underline">Chicago Riverwalk</a> æ•£æ­¥è‡³ <a href="https://maps.apple.com/?q=DuSable+Bridge,Chicago" target="_blank" class="hover:underline">DuSable Bridge</a>ã€‚</li>
                                    <li><strong>æ™šé¤å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Lou+Malnati's,Chicago" target="_blank" class="hover:underline">Lou Malnatiâ€™s</a> æˆ– <a href="https://maps.apple.com/?q=Giordano's,Chicago" target="_blank" class="hover:underline">Giordanoâ€™s</a>ï¼ˆèŠåŠ å“¥é¢¨å‘³æ·±ç›¤æŠ«è–©ï¼‰ã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-amber-100/60 rounded-lg border-l-4 border-amber-400">
                                <h4 class="font-bold text-amber-800 flex items-center mb-2">ğŸ›ï¸ ç¡å‰æé†’</h4>
                                <ul class="list-disc list-inside mt-2 text-amber-900/80 space-y-1">
                                    <li>æ˜æ—¥ç‚ºå»ºç¯‰å·¡ç¦®èˆ‡æ¹–æ¿±éŠè¦½æ—¥ï¼Œå¯è‡ªç”±æ±ºå®šæ—©æˆ–æ™šå‡ºç™¼ã€‚</li>
                                    <li>è‹¥é«”åŠ›å……æ²›ï¼Œå¤œé–“å¯çŸ­æš«å‰å¾€ <a href="https://maps.apple.com/?q=Millennium+Park,Chicago" target="_blank">Millennium Park</a> çœ‹å¤œè‰²ä¸­çš„ The Beanã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
             <div data-day="8" data-date="2025-07-09" data-day-group="7" data-city-target="chicago-section" data-weather-city="chicago">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 8ï½œ7æœˆ9æ—¥ï¼ˆä¸‰ï¼‰</p>
                            <h3 id="day8" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">èŠåŠ å“¥å»ºç¯‰æ—¥ï½œå»ºç¯‰éŠèˆ¹ + å…¬åœ’è—è¡“ + æ¹–ç•”é»ƒæ˜</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                         <div class="my-3"><span class="tag">#å»ºç¯‰éŠèˆ¹</span><span class="tag">#åƒç¦§å…¬åœ’</span><span class="tag">#é«˜ç©ºå¤œæ™¯</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">ğŸ›¥ï¸ 09:30 â€“ 12:00ï½œèŠåŠ å“¥å»ºç¯‰éŠèˆ¹ + åƒç¦§å…¬åœ’</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong><a href="https://www.architecture.org/tours/chicago-architecture-foundation-center-river-cruise-aboard-chicago-s-first-lady/" target="_blank" class="hover:underline">Chicago Architecture River Cruise</a>ï¼š</strong>å»ºè­°é ç´„ <a href="https://www.wendellaboats.com/" target="_blank">Wendella</a> æˆ– <a href="https://www.cruisechicago.com/first-lady-cruises" target="_blank">Chicagoâ€™s First Lady</a> ä¸Šåˆå ´ã€‚</li>
                                    <li>éŠèˆ¹å¾Œæ­¥è¡Œè‡³ <a href="https://maps.apple.com/?q=Millennium+Park,Chicago" target="_blank" class="hover:underline">Millennium Park</a> æ‹æ” <a href="https://maps.apple.com/?q=Cloud+Gate,Chicago" target="_blank" class="hover:underline">Cloud Gate (The Bean)</a>ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                 <h4 class="font-bold text-lg text-green-800">ğŸ½ï¸ 12:30 â€“ 14:00ï½œåˆé¤å»ºè­°</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><a href="https://maps.apple.com/?q=The+Purple+Pig,Chicago" target="_blank" class="hover:underline">The Purple Pig</a>ï¼ˆåœ°ä¸­æµ·é¢¨å‘³ï¼‰æˆ– <a href="https://maps.apple.com/?q=Beatrix,Chicago" target="_blank" class="hover:underline">Beatrix</a>ï¼ˆäººæ°£æ—©åˆé¤ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸ¡ 14:30 â€“ 17:00ï½œæµ·è»ç¢¼é ­ Navy Pier + æ¹–ç•”æ´»å‹•</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>ç™»ä¸Š <a href="https://navypier.org/things-to-do/rides-attractions/centennial-wheel/" target="_blank" class="hover:underline">Centennial Wheel æ‘©å¤©è¼ª</a>ï¼Œä¿¯ç°å¯†è¥¿æ ¹æ¹–èˆ‡å¤©éš›ç·šã€‚</li>
                                    <li>æˆ–å‰å¾€<a href="https://mcachicago.org/" target="_blank" class="hover:underline">ç•¶ä»£è—è¡“åšç‰©é¤¨ï¼ˆMCAï¼‰</a>ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸŒ† 18:00 â€“ 21:00ï½œå¤œæ™¯é«”é©— + é«˜ç©ºé…’å§æˆ–è§€æ™¯å¡”</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>é¸æ“‡ä¸€ï¼š</strong><a href="https://360chicago.com/" target="_blank" class="hover:underline">360 CHICAGO</a>ï¼ˆHancock Towerï¼‰ï¼Œå¯é¸é™„é…’å§é–€ç¥¨ã€‚</li>
                                    <li><strong>é¸æ“‡äºŒï¼š</strong><a href="https://theskydeck.com/" target="_blank" class="hover:underline">Skydeck Chicago</a>ï¼ˆWillis Towerï¼‰ï¼Œé«”é©—æ‡¸ç©ºç»ç’ƒç›’ã€‚</li>
                                    <li><strong>æ™šé¤ï¼š</strong><a href="https://www.signatureroom.com/" target="_blank" class="hover:underline">The Signature Room</a>ï¼ˆHancock Tower 95æ¨“ï¼‰æˆ– <a href="https://maps.apple.com/?q=The+Gage,Chicago" target="_blank" class="hover:underline">The Gage</a>ã€‚</li>
                                </ul>
                            </div>
                             <div class="mt-4 p-4 bg-teal-100/60 rounded-lg border-l-4 border-teal-400">
                                <h4 class="font-bold text-teal-800 flex items-center mb-2">â­ èŠåŠ å“¥å¯¦ç”¨è³‡è¨Š</h4>
                                <ul class="list-disc list-inside mt-2 text-teal-900/80 space-y-1">
                                    <li>ğŸš‡ åœ°éµç³»çµ± CTA å¯ä½¿ç”¨ Ventra App æˆ–ç¾å ´è³¼ç¥¨ã€‚</li>
                                    <li>ğŸ“¶ ç¶²è·¯ä¸ç©©åœ°é»å¯ä½¿ç”¨ Starbucks / Target ç­‰åº—å…§å…è²» Wi-Fiã€‚</li>
                                    <li>ğŸ’¨ èŠåŠ å“¥æœ‰ã€Œé¢¨åŸã€ä¹‹ç¨±ï¼Œæ—¥å¤œæº«å·®å¤§ä¸”æ¹–é‚Šé¢¨å¼·ï¼Œå‹™å¿…æ”œå¸¶é˜²é¢¨å¤–å¥—ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
             <div data-day="9" data-date="2025-07-10" data-day-group="7" data-city-target="chicago-section" data-weather-city="chicago">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 9ï½œ7æœˆ10æ—¥ï¼ˆé€±å››ï¼‰</p>
                            <h3 id="day9" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">èŠåŠ å“¥åšç‰©é¤¨èˆ‡å¤œéŠæ²³ç•”æ—¥</h3>
                        </div>
                         <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                         <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                         <div class="my-3"><span class="tag">#è‡ªç„¶æ­·å²</span><span class="tag">#å¤œé–“éŠèˆ¹</span><span class="tag">#åŸå¸‚å¤œæ™¯</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">ğŸ¦– 09:00 â€“ 12:00ï½œèŠåŠ å“¥è‡ªç„¶æ­·å²åšç‰©é¤¨ï¼ˆField Museumï¼‰</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                     <li>å‰å¾€ <a href="https://maps.apple.com/?q=Field+Museum,Chicago" target="_blank" class="hover:underline">Field Museum</a>ï¼Œé‡é»å±•è¦½ï¼šSue æš´é¾ã€å¤åŸƒåŠæœ¨ä¹ƒä¼Šã€åŒ—ç¾åŸä½æ°‘ã€‚</li>
                                    <li>å»ºè­°åœç•™ç´„ 2.5 å°æ™‚ï¼Œå¯ç§Ÿå€ŸèªéŸ³å°è¦½ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸŒ³ 12:30 â€“ 17:30ï½œåˆé¤ + è¼•é¬†è¡Œç¨‹</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>åˆé¤å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=The+Gage,Chicago" target="_blank" class="hover:underline">The Gage</a> æˆ– <a href="https://maps.apple.com/?q=Wildberry+Pancakes,Chicago" target="_blank" class="hover:underline">Wildberry Pancakes</a>ã€‚</li>
                                    <li>ä¸‹åˆå¯è‡³ <a href="https://maps.apple.com/?q=The+Magnificent+Mile,Chicago" target="_blank" class="hover:underline">Magnificent Mile</a> é€›è¡—æˆ–åœ¨ <a href="https://maps.apple.com/?q=Chicago+Riverwalk" target="_blank" class="hover:underline">Chicago Riverwalk</a> æ”¾é¬†ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸŒ™ 18:00 â€“ 21:00ï½œæ—©æ™šé¤ + å¤œé–“å»ºç¯‰éŠèˆ¹</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æ™šé¤å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=The+Dearborn,Chicago" target="_blank" class="hover:underline">The Dearborn</a>ï¼ˆç¾å¼é¤é…’é¤¨ï¼‰æˆ–æ·±ç›¤æŠ«è–©ã€‚</li>
                                    <li><strong>å¤œé–“å»ºç¯‰éŠèˆ¹ï¼š</strong>æ¬£è³é»ç‡ˆå¾Œçš„æ‘©å¤©æ¨“ï¼Œå»ºè­°é¸æ“‡ <a href="https://www.wendellaboats.com/" target="_blank">Wendella</a> / <a href="https://www.shorelinesightseeing.com/" target="_blank">Shoreline</a> ç­‰èˆ¹å…¬å¸ä¸¦ç·šä¸Šé ç´„ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
            <div data-day="10" data-date="2025-07-11" data-day-group="10" data-city-target="chicago-section" data-weather-city="chicago">
                <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 10ï½œ7æœˆ11æ—¥ï¼ˆé€±äº”ï¼‰</p>
                            <h3 id="day10" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">èŠåŠ å“¥è³¼ç‰© or é¤¨æ‰€è‡ªç”±æ—¥</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                        <div class="my-3"><span class="tag">#è‡ªç”±è¡Œç¨‹</span><span class="tag">#æ°´æ—é¤¨</span><span class="tag">#æœ€å¾Œæ™šé¤</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">â˜€ï¸ 09:00 â€“ 12:00ï½œè‡ªç”±è¡Œç¨‹ï¼šè³¼ç‰© or å¸‚å€æ•£æ­¥</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>è³¼ç‰©ï¼š</strong>å‰å¾€ <a href="https://maps.apple.com/?q=The+Magnificent+Mile,Chicago" target="_blank" class="hover:underline">Michigan Avenue (Magnificent Mile)</a>ï¼Œ<a href="https://maps.apple.com/?q=Nordstrom,chicago" target="_blank">Nordstrom</a>, <a href="https://maps.apple.com/?q=Macy's,chicago" target="_blank">Macyâ€™s</a>, <a href="https://maps.apple.com/?q=Uniqlo,chicago" target="_blank">Uniqlo</a> ç­‰å“ç‰Œé›†ä¸­ã€‚</li>
                                    <li><strong>æ•£æ­¥ï¼š</strong>é¸æ“‡æ”¾é¬†æ…¢è¡Œ <a href="https://maps.apple.com/?q=Millennium+Park,Chicago" target="_blank" class="hover:underline">Millennium Park</a> â†’ <a href="https://maps.apple.com/?q=Maggie+Daley+Park,Chicago" target="_blank" class="hover:underline">Maggie Daley Park</a> ç¶ åœ°ã€‚</li>
                                    <li><strong>è—è¡“ï¼š</strong>åƒè§€<a href="https://mcachicago.org/" target="_blank" class="hover:underline">èŠåŠ å“¥ç•¶ä»£è—è¡“é¤¨ï¼ˆMCAï¼‰</a>ï¼Œå°è€Œç²¾ç·»ã€‚</li>
                                </ul>
                            </div>
                             <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ½ï¸ 12:30 â€“ 14:00ï½œåˆé¤å»ºè­°</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><a href="https://maps.apple.com/?q=Beatrix,Chicago" target="_blank" class="hover:underline">Beatrix</a>ï¼ˆè¼•é£Ÿç³»å¥åº·æ–™ç†ï¼‰æˆ– <a href="https://maps.apple.com/?q=The+Purple+Pig,Chicago" target="_blank" class="hover:underline">The Purple Pig</a>ï¼ˆäººæ°£åœ°ä¸­æµ·å°é…’é¤¨ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸŸ 14:30 â€“ 17:00ï½œShedd Aquariumï¼ˆæ°´æ—é¤¨ï¼‰é¸é …</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å‰å¾€<a href="https://maps.apple.com/?q=Shedd+Aquarium,Chicago" target="_blank" class="hover:underline">Shedd Aquarium</a>ï¼Œç‰¹å±•ï¼šç™½é¯¨ã€æµ·è±šã€ä¼éµã€äºé¦¬éœç†±å¸¶é¤¨å€ã€‚</li>
                                    <li>è‹¥ä¸åƒè§€æ°´æ—é¤¨ï¼Œä¹Ÿå¯å›é£¯åº—ä¼‘æ¯æˆ–ç¹¼çºŒè³¼ç‰©ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-red-800">ğŸ½ï¸ 18:00 â€“ 20:30ï½œæœ€å¾Œæ™šé¤æ”¶å°¾</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>æ¨è–¦ï¼š</strong><a href="https://maps.apple.com/?q=The+Dearborn,Chicago" target="_blank" class="hover:underline">The Dearborn</a>ï¼ˆç¾ä»£ç¾å¼é¤é…’é¤¨ï¼‰æˆ– <a href="https://maps.apple.com/?q=Cindy's+Rooftop,Chicago" target="_blank" class="hover:underline">Cindyâ€™s Rooftop</a>ï¼ˆè§€æ™¯é¤å»³ï¼‰ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
             
            <div data-day="11" data-date="2025-07-12" data-day-group="10" data-city-target="chicago-section" data-weather-city="chicago">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 11ï½œ7æœˆ12æ—¥ï¼ˆå…­ï¼‰</p>
                            <h3 id="day11" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">èŠåŠ å“¥è—è¡“å­¸é™¢èˆ‡æ–‡åŒ–æ—¥</h3>
                        </div>
                         <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                         <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                         <div class="my-3"><span class="tag">#è—è¡“å·¡ç¦®</span><span class="tag">#ä¸–ç•Œåç•«</span><span class="tag">#æ–‡åŒ–æ²‰æµ¸</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">ğŸ¨ 09:30 â€“ 13:00ï½œèŠåŠ å“¥è—è¡“å­¸é™¢ï¼ˆArt Institute of Chicagoï¼‰</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                     <li>å‰å¾€<a href="https://www.artic.edu/" target="_blank" class="hover:underline">èŠåŠ å“¥è—è¡“å­¸é™¢</a>ï¼Œå¿…çœ‹è«å…§ã€Šç¡è“®ã€‹ã€ç§€æ‹‰ã€Šå¤§ç¢—å³¶çš„æ˜ŸæœŸå¤©ä¸‹åˆã€‹ã€ä¼å¾·ã€Šç¾åœ‹å“¥å¾·å¼ã€‹ã€‚</li>
                                    <li>å»ºè­°åœç•™ 3 å°æ™‚ï¼Œå¯ç§Ÿå€ŸèªéŸ³å°è¦½ï¼Œæ·±å…¥äº†è§£ä½œå“ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ½ï¸ 13:00 â€“ 14:30ï½œåˆé¤å»ºè­°</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                     <li><a href="https://maps.apple.com/?q=The+Gage,Chicago" target="_blank" class="hover:underline">The Gage</a>ï¼ˆåšç‰©é¤¨å°é¢ï¼Œäººæ°£é«˜ï¼‰æˆ–<a href="https://maps.apple.com/?q=Cindy's+Rooftop,Chicago" target="_blank" class="hover:underline">Cindyâ€™s Rooftop</a>ï¼ˆæ™¯è§€é¤å»³ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸ›ï¸ 15:00 onwardsï½œè‡ªç”±æ™‚é–“</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å¯å®‰æ’è³¼ç‰©ã€å›è¨ªå–œæ„›æ™¯é»æˆ–å›é£¯åº—ä¼‘æ¯ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
             <div data-day="12" data-date="2025-07-13" data-day-group="10" data-city-target="chicago-section" data-weather-city="chicago">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="flex justify-between items-center">
                        <div class="flex-grow">
                            <p class="text-sm font-medium text-indigo-600">Day 12ï½œ7æœˆ13æ—¥ï¼ˆæ—¥ï¼‰</p>
                            <h3 id="day12" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">ğŸ§³ èŠåŠ å“¥æ”¶å°¾æ—¥ + å‰å¾€æ©Ÿå ´</h3>
                        </div>
                        <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                        <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                         <div class="my-3"><span class="tag">#æ—…ç¨‹ç¸½çµ</span><span class="tag">#æœ€å¾Œå·¡ç¦®</span><span class="tag">#æ©Ÿå ´æº–å‚™</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">â˜• 09:00 â€“ 12:00ï½œæ—©åˆé¤ + è¼•é¬†æ•£æ­¥</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>é¤å»³å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Wildberry+Pancakes+and+Cafe,Chicago" target="_blank" class="hover:underline">Wildberry Pancakes</a> æˆ–å›è¨ªå–œæ„›çš„é¤å»³ã€‚</li>
                                    <li><strong>è¡Œç¨‹å»ºè­°ï¼š</strong><a href="https://maps.apple.com/?q=Millennium+Park,Chicago" target="_blank" class="hover:underline">Millennium Park</a> æœ€å¾Œå·¡ç¦®ï¼Œæˆ–æ–¼ <a href="https://maps.apple.com/?q=Chicago+Riverwalk" target="_blank" class="hover:underline">Chicago Riverwalk</a> æ•£æ­¥æ‹ç…§ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">ğŸ’ 12:00 â€“ 17:00ï½œæ•´ç†è¡Œæ + è‡ªç”±æ™‚é–“</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>å›é£¯åº—æ”¶æ‹¾è¡Œæï¼Œå¯å‘æ«ƒæª¯è«‹æ±‚å»¶å¾Œé€€æˆ¿æˆ–å¯„å­˜è¡Œæã€‚</li>
                                    <li>å¯è‡³é™„è¿‘å•†åœˆæ¡è³¼ç´€å¿µå“ï¼ˆ<a href="https://maps.apple.com/?q=Target,Chicago" target="_blank" class="hover:underline">Target</a>ã€<a href="https://maps.apple.com/?q=Nordstrom+Rack,Chicago" target="_blank" class="hover:underline">Nordstrom Rack</a> ç­‰ï¼‰ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-purple-800">ğŸ§³ 18:00 â€“ 21:30ï½œæ™šé¤ + å‰å¾€æ©Ÿå ´ï¼ˆORDï¼‰</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li>æ™šé¤å»ºè­°é¸æ“‡é£¯åº—å‘¨é‚Šè¼•é£Ÿé¤å»³ã€‚</li>
                                    <li>ç´„ 21:00 å‰å‡ºç™¼å‰å¾€ Oâ€™Hare åœ‹éš›æ©Ÿå ´ï¼ˆORDï¼‰ã€‚</li>
                                    <li>å¯æ­ä¹˜åœ°éµ Blue Line æˆ– Uberï¼Œç‚ºå‡Œæ™¨èˆªç­åšæº–å‚™ã€‚</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>
            
            <div data-day="13" data-date="2025-07-14" data-day-group="10" data-city-target="">
                 <details class="trip-card bg-white rounded-2xl shadow-lg ring-1 ring-gray-200 overflow-hidden">
                    <summary class="summary-travel-day flex justify-between items-center">
                        <div class="flex-grow">
                           <p class="text-sm font-medium text-amber-700">Day 13-14 | 7/14(ä¸€) â€“ 7/15(äºŒ)</p>
                            <h3 id="day13" class="text-xl sm:text-2xl font-bold mt-1 text-gray-900">âœˆï¸ è¿”å®¶ï¼šèŠåŠ å“¥ â†’ æ±äº¬ â†’ å°åŒ—</h3>
                        </div>
                         <div class="weather-display flex-shrink-0 ml-4 text-right"></div>
                         <div class="summary-arrow ml-2 flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </div>
                    </summary>
                    <div class="p-4 sm:p-6 border-t border-gray-200">
                         <div class="my-3"><span class="tag">#è¿”å®¶ä¹‹æ—¥</span><span class="tag">#è·¨æ™‚å€èˆªç­</span><span class="tag">#æ»¿è¼‰è€Œæ­¸</span></div>
                        <div class="space-y-6">
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-blue-800">Day 13 (é€±ä¸€): é£›è¡Œé€”ä¸­</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>èˆªç­ JL-009ï¼š</strong>01:30 (ç¾åœ‹ä¸­éƒ¨æ™‚é–“) å¾èŠåŠ å“¥ ORD æ©Ÿå ´èµ·é£›ã€‚</li>
                                    <li>é£›è¡Œæ™‚é–“ç´„ 11 å°æ™‚ 50 åˆ†é˜ã€‚</li>
                                </ul>
                            </div>
                            <div class="activity-block">
                                <h4 class="font-bold text-lg text-green-800">Day 14 (é€±äºŒ): è½‰æ©Ÿä¸¦æŠµé”å°åŒ—</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                    <li><strong>04:20 (æ—¥æœ¬æ™‚é–“)ï¼š</strong>æŠµé”æ±äº¬ç¾½ç”°æ©Ÿå ´ (HND)ã€‚</li>
                                    <li><strong>è½‰æ©Ÿæ™‚é–“ï¼š</strong>ç´„ 4 å°æ™‚ 35 åˆ†é˜ã€‚</li>
                                    <li><strong>èˆªç­ JL-0097ï¼š</strong>08:55 (æ—¥æœ¬æ™‚é–“) å¾ç¾½ç”°æ©Ÿå ´è½‰æ©Ÿã€‚</li>
                                    <li><strong>11:35 (å°åŒ—æ™‚é–“)ï¼š</strong>æŠµé”å°åŒ—æ¾å±±æ©Ÿå ´ (TSA)ï¼Œåœ“æ»¿çµæŸæ—…ç¨‹ï¼</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </details>
            </div>


            <div id="tip-calculator-section">
                <section class="trip-card bg-white rounded-2xl shadow-lg p-6 md:p-8 ring-1 ring-gray-200">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 7h6m0 10v-3.251l-4.71-4.71a1 1 0 00-1.415 0L3 16.251V21h4.75L12 17.25m0 0l6-6m-6 6l-3-3" />
                        </svg>
                        å°è²»è¨ˆç®—æ©Ÿ (Tip Calculator)
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-end">
                        <div class="col-span-1">
                            <label for="bill-amount" class="block text-sm font-medium text-gray-700">å¸³å–®é‡‘é¡ (CAD/USD)</label>
                            <input type="number" id="bill-amount" placeholder="ä¾‹å¦‚ 85.50" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                        </div>
                        <div class="col-span-1">
                            <label for="tip-rate" class="block text-sm font-medium text-gray-700">å°è²»æ¯”ä¾‹ (%)</label>
                            <select id="tip-rate" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                <option value="15">15% (æ¨™æº–)</option>
                                <option value="18" selected>18% (æ¨è–¦)</option>
                                <option value="20">20% (å„ªè³ªæœå‹™)</option>
                                <option value="10">10% (åŸºæœ¬)</option>
                            </select>
                        </div>
                        <div class="text-center bg-indigo-50 p-4 rounded-lg mt-4 md:mt-0">
                            <label class="block text-sm font-medium text-gray-700">å°è²»é‡‘é¡</label>
                            <p id="tip-result" class="text-xl font-bold text-indigo-700">-</p>
                        </div>
                         <div class="text-center bg-green-50 p-4 rounded-lg mt-4 md:mt-0">
                            <label class="block text-sm font-medium text-gray-700">å«å°è²»ç¸½é¡</label>
                            <p id="total-result" class="text-xl font-bold text-green-700">-</p>
                        </div>
                    </div>
                </section>
            </div>

            <div id="links-dashboard">
                <div class="trip-card bg-white rounded-2xl shadow-lg p-6 md:p-8 ring-1 ring-gray-200">
                     <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-gray-900 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 mr-3 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        å¯¦ç”¨é€£çµå„€è¡¨æ¿
                    </h2>
                     <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 text-gray-700">
                        <a href="https://www.canada.ca/en/immigration-refugees-citizenship/services/visit-canada/eta/apply-zh-tw.html" target="_blank" class="hover:underline">åŠ æ‹¿å¤§eTAå®˜ç¶²</a>
                        <a href="https://esta.cbp.dhs.gov/" target="_blank" class="hover:underline">ç¾åœ‹ESTAå®˜ç¶²</a>
                        <a href="https://www.viarail.ca/en" target="_blank" class="hover:underline">VIA Rail ç«è»Š</a>
                        <a href="https://www.basiliquenotredame.ca/en" target="_blank" class="hover:underline">è’™ç‰¹å©è–æ¯å¤§æ•™å ‚</a>
                        <a href="https://www.lagranderouedemontreal.com/en" target="_blank" class="hover:underline">è’™ç‰¹å©æ‘©å¤©è¼ª</a>
                        <a href="https://www.mcq.org/en/" target="_blank" class="hover:underline">é­åŒ—å…‹æ–‡æ˜åšç‰©é¤¨</a>
                        <a href="https://www.niagaraparks.com/visit/attractions/adventure-pass-classic" target="_blank" class="hover:underline">å°¼åŠ æ‹‰ç€‘å¸ƒå¥—ç¥¨</a>
                        <a href="https://www.theskydeck.com/" target="_blank" class="hover:underline">èŠåŠ å“¥Skydeck</a>
                        <a href="https://www.artic.edu/" target="_blank" class="hover:underline">èŠåŠ å“¥è—è¡“å­¸é™¢</a>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="text-center mt-16 py-8">
            <p class="text-gray-500">ç¥æ‚¨æ—…é€”æ„‰å¿«ï¼Bon Voyage!</p>
        </footer>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast-notification" class="no-print hidden opacity-0 fixed bottom-24 right-4 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-xl transition-all duration-300 z-[100]">
        <p id="toast-message"></p>
    </div>

    <!-- "Today's Itinerary" Button -->
    <div class="no-print fixed bottom-4 right-4 z-50">
        <button id="today-btn" onclick="scrollToToday()" class="bg-amber-500 text-white font-semibold px-4 py-3 rounded-full shadow-lg hover:bg-amber-600 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-400 flex items-center justify-center">
            ğŸ“… ä»Šå¤©è¡Œç¨‹
        </button>
    </div>
    
    <script>
        // --- Global Functions (callable from HTML onclick) ---

        /**
         * Shows a toast notification with a message.
         * @param {string} message The message to display.
         */
        let toastTimeout;
        function showToast(message) {
            const toastEl = document.getElementById('toast-notification');
            const toastMessageEl = document.getElementById('toast-message');
            if (!toastEl || !toastMessageEl) return;
            
            toastMessageEl.textContent = message;
            toastEl.classList.remove('hidden', 'opacity-0');
            
            clearTimeout(toastTimeout);
            toastTimeout = setTimeout(() => {
                toastEl.classList.add('opacity-0');
                setTimeout(() => toastEl.classList.add('hidden'), 300);
            }, 3000);
        }

        /**
         * Finds today's itinerary item, scrolls to it, and expands it.
         * @param {boolean} isAuto - True if called automatically on page load.
         */
        function scrollToToday(isAuto = false) {
            const todaySummary = document.querySelector('.summary-today');
            
            if (todaySummary) {
                const todayElement = todaySummary.closest('[data-day]');
                if (!todayElement) return;

                const details = todayElement.querySelector('details');
                if (details && !details.open) {
                    details.open = true;
                }

                const mainNav = document.getElementById('main-nav');
                const offset = mainNav ? mainNav.offsetHeight : 60;
                const bodyRect = document.body.getBoundingClientRect().top;
                const elementRect = todayElement.getBoundingClientRect().top;
                const elementPosition = elementRect - bodyRect;
                const offsetPosition = elementPosition - offset - 20;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });

                if (!isAuto) {
                    const dateStr = todayElement.dataset.date;
                    const date = dateStr ? dateStr.substring(5).replace('-', '/') : 'ä»Šå¤©';
                    showToast(`å·²ç‚ºæ‚¨è·³è½‰è‡³ ${date} çš„è¡Œç¨‹ï¼`);
                }
            } else {
                 if (!isAuto) {
                    showToast('ä»Šå¤©ä¸åœ¨è¡Œç¨‹æ—¥æœŸç¯„åœå…§å–”ï¼');
                 }
            }
        }


        // --- Main script execution after DOM is loaded ---
        document.addEventListener('DOMContentLoaded', () => {

            const mainNav = document.getElementById('main-nav');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenuPanel = document.getElementById('mobile-menu-panel');
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', () => {
                    if (mobileMenuPanel) mobileMenuPanel.classList.toggle('hidden');
                });
            }
            
            window.addEventListener('scroll', () => {
                if(mainNav) mainNav.classList.toggle('scrolled', window.scrollY > 0);
            });

            const tripCards = document.querySelectorAll('.trip-card');
            const cardObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        const activityBlocks = entry.target.querySelectorAll('.activity-block');
                        activityBlocks.forEach((block, index) => {
                            block.style.transitionDelay = `${index * 120}ms`;
                        });
                    }
                });
            }, { threshold: 0.1 });
            tripCards.forEach(card => cardObserver.observe(card));

            const desktopNavPills = document.querySelectorAll('#desktop-nav-pills .nav-pill');
            const daysContent = document.getElementById('desktop-nav-content-days');
            const citiesContent = document.getElementById('desktop-nav-content-cities');
            
            desktopNavPills.forEach(pill => {
                pill.addEventListener('click', () => {
                    desktopNavPills.forEach(p => p.classList.remove('active'));
                    pill.classList.add('active');
                    const isCityTab = pill.dataset.tab === 'cities';
                    if (daysContent) daysContent.classList.toggle('hidden', isCityTab);
                    if (citiesContent) {
                        citiesContent.classList.toggle('hidden', !isCityTab);
                        citiesContent.classList.toggle('flex', isCityTab);
                    }
                });
            });

            function handleNavigation(hash) {
                if (!hash || hash === '#') return;
                try {
                    const targetElement = document.querySelector(hash);
                    if (!targetElement) return;

                    // NEW: Smartly handle past itinerary clicks from map
                    const toggle = document.getElementById('show-past-toggle');
                    if (targetElement.hasAttribute('data-city-section') && toggle && !toggle.checked) {
                        const cityId = targetElement.id;
                        const hasPastDay = !!document.querySelector(`[data-city-target="${cityId}"].day-past`);

                        if (hasPastDay) {
                            toggle.checked = true;
                            toggle.dispatchEvent(new Event('change'));
                            showToast('ç‚ºæ‚¨é¡¯ç¤ºéå»è¡Œç¨‹ä»¥æŸ¥çœ‹ç›®çš„åœ°');
                        }
                    }
                    
                    const offset = mainNav ? mainNav.offsetHeight + 20 : 80;
                    const targetTop = targetElement.getBoundingClientRect().top + window.pageYOffset;
                     window.scrollTo({
                        top: targetTop - offset,
                        behavior: 'smooth'
                    });

                    if (targetElement.hasAttribute('data-city-section')) {
                        let nextElement = targetElement.nextElementSibling;
                        while (nextElement && !nextElement.hasAttribute('data-city-section')) {
                            if (nextElement.dataset.cityTarget === targetElement.id) {
                                const details = nextElement.querySelector('details');
                                if (details && !details.open) details.open = true;
                            }
                            nextElement = nextElement.nextElementSibling;
                        }
                    } else {
                        const details = targetElement.closest('details');
                        if (details && !details.open) details.open = true;
                    }
                } catch (e) {
                    console.error("Navigation error:", e);
                }
            }
            
            document.querySelectorAll('a[href^="#"], .nav-utils').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const hash = this.getAttribute('href');
                    handleNavigation(hash);
                    if (history.pushState) {
                        history.pushState(null, null, hash);
                    } else {
                        location.hash = hash;
                    }
                    if (mobileMenuPanel && !mobileMenuPanel.classList.contains('hidden')) {
                        mobileMenuPanel.classList.add('hidden');
                    }
                });
            });

            if (window.location.hash) {
                setTimeout(() => handleNavigation(window.location.hash), 100);
            }
            
            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', () => {
                     if(mobileMenuPanel) mobileMenuPanel.classList.add('hidden');
                });
            });
            
            const mapCityLinks = document.querySelectorAll('.map-city-link');
            const mapRouteLines = document.querySelectorAll('.route-line');
            const dayCards = document.querySelectorAll('[data-city-target]');

            mapCityLinks.forEach(link => {
                if (!link.dataset.pathId) return;
                const pathIds = link.dataset.pathId.split(',');
                
                const highlight = () => pathIds.forEach(id => document.getElementById(id)?.classList.add('highlight'));
                const unhighlight = () => pathIds.forEach(id => document.getElementById(id)?.classList.remove('highlight'));

                link.addEventListener('mouseenter', highlight);
                link.addEventListener('mouseleave', unhighlight);
            });

            const mapHighlightObserver = new IntersectionObserver((entries) => {
                mapCityLinks.forEach(link => link.classList.remove('map-city-active'));
                mapRouteLines.forEach(line => line.classList.remove('highlight-scroll'));
                
                const intersectingEntries = entries.filter(e => e.isIntersecting);
                if (intersectingEntries.length > 0) {
                    const latestActiveCity = intersectingEntries[intersectingEntries.length - 1].target.dataset.cityTarget;
                     mapCityLinks.forEach(link => {
                        if (link.dataset.cityId === latestActiveCity) {
                            link.classList.add('map-city-active');
                            const pathIds = link.dataset.pathId.split(',');
                            pathIds.forEach(id => document.getElementById(id)?.classList.add('highlight-scroll'));
                        }
                    });
                }
            }, { rootMargin: `-${mainNav ? mainNav.offsetHeight : 60}px 0px -60% 0px`, threshold: 0 });

            dayCards.forEach(card => {
                if (card.dataset.cityTarget) mapHighlightObserver.observe(card);
            });


            function triggerPrint() {
                const allDetails = document.querySelectorAll('details');
                const originallyOpen = new WeakMap();
                allDetails.forEach(detail => {
                    originallyOpen.set(detail, detail.open);
                    detail.open = true;
                });
                setTimeout(() => {
                    window.print();
                    allDetails.forEach(detail => {
                        detail.open = originallyOpen.get(detail);
                    });
                }, 100);
            }
            document.getElementById('print-btn')?.addEventListener('click', triggerPrint);
            document.getElementById('mobile-print-btn')?.addEventListener('click', triggerPrint);


            const billInput = document.getElementById('bill-amount');
            const tipSelect = document.getElementById('tip-rate');
            const tipResultEl = document.getElementById('tip-result');
            const totalResultEl = document.getElementById('total-result');

            function calculateTip() {
                const bill = parseFloat(billInput.value);
                const tipPercent = parseFloat(tipSelect.value);
                
                if (!isNaN(bill) && bill > 0 && !isNaN(tipPercent)) {
                    const tip = bill * (tipPercent / 100);
                    const total = bill + tip;
                    if(tipResultEl) tipResultEl.textContent = `$${tip.toFixed(2)}`;
                    if(totalResultEl) totalResultEl.textContent = `$${total.toFixed(2)}`;
                } else {
                    if(tipResultEl) tipResultEl.textContent = '-';
                    if(totalResultEl) totalResultEl.textContent = '-';
                }
            }
            if (billInput) billInput.addEventListener('input', calculateTip);
            if (tipSelect) tipSelect.addEventListener('change', calculateTip);

            function updateClocks() {
                const now = new Date();
                const timezones = {
                    montreal: 'America/Montreal',
                    chicago: 'America/Chicago',
                    taipei: 'Asia/Taipei'
                };

                for (const [id, tz] of Object.entries(timezones)) {
                    const timeEl = document.getElementById(`time-${id}`);
                    const dateEl = document.getElementById(`date-${id}`);
                    if (timeEl && dateEl) {
                        try {
                            timeEl.textContent = now.toLocaleTimeString('en-GB', { timeZone: tz, hour12: false });
                            dateEl.textContent = now.toLocaleDateString('zh-TW', { timeZone: tz, weekday: 'long' });
                        } catch (e) {
                            timeEl.textContent = "N/A";
                            dateEl.textContent = "æ™‚å€éŒ¯èª¤";
                        }
                    }
                }
            }

            const cityCoordinates = {
                montreal: { lat: 45.50, lon: -73.57 },
                quebec: { lat: 46.81, lon: -71.21 },
                niagara: { lat: 43.09, lon: -79.08 },
                chicago: { lat: 41.88, lon: -87.63 }
            };

            function getWeatherIcon(code) {
                const icons = { 0: 'â˜€ï¸', 1: 'ğŸŒ¤ï¸', 2: 'â›…ï¸', 3: 'â˜ï¸', 45: 'ğŸŒ«ï¸', 48: 'ğŸŒ«ï¸', 51: 'ğŸŒ¦ï¸', 53: 'ğŸŒ¦ï¸', 55: 'ğŸŒ¦ï¸', 61: 'ğŸŒ§ï¸', 63: 'ğŸŒ§ï¸', 65: 'ğŸŒ§ï¸', 66: 'ğŸŒ§ï¸', 67: 'ğŸŒ§ï¸', 71: 'ğŸŒ¨ï¸', 73: 'ğŸŒ¨ï¸', 75: 'ğŸŒ¨ï¸', 77: 'ğŸŒ¨ï¸', 80: 'ğŸŒ§ï¸', 81: 'ğŸŒ§ï¸', 82: 'æš´é›¨', 85: 'ğŸŒ¨ï¸', 86: 'ğŸŒ¨ï¸', 95: 'â›ˆï¸', 96: 'â›ˆï¸', 99: 'â›ˆï¸' };
                return icons[code] || 'ğŸŒ¡ï¸';
            }

            async function fetchAndDisplayWeather() {
                const dayElements = document.querySelectorAll('[data-weather-city]');
                const promises = Array.from(new Set(Array.from(dayElements).map(el => el.dataset.weatherCity)))
                    .filter(Boolean)
                    .map(city => {
                        const { lat, lon } = cityCoordinates[city];
                        const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=weather_code,temperature_2m_max&timezone=auto`;
                        return fetch(url).then(res => res.json()).then(data => ({ city, data }));
                    });

                const results = await Promise.all(promises);
                const weatherData = results.reduce((acc, {city, data}) => ({ ...acc, [city]: data.daily }), {});
                
                dayElements.forEach(dayEl => {
                    const date = dayEl.dataset.date;
                    const city = dayEl.dataset.weatherCity;
                    const weatherDisplay = dayEl.querySelector('.weather-display');
                    if (city && weatherData[city] && weatherDisplay) {
                        const dayIndex = weatherData[city].time.indexOf(date);
                        if (dayIndex !== -1) {
                            const temp = Math.round(weatherData[city].temperature_2m_max[dayIndex]);
                            const icon = getWeatherIcon(weatherData[city].weather_code[dayIndex]);
                            weatherDisplay.innerHTML = `${icon} ${temp}Â°C`;
                        } else {
                             weatherDisplay.textContent = 'æš«ç„¡é å ±';
                        }
                    }
                });
            }
            
            // --- Robust Date and View Management ---
            function initializeTripView() {
                const showPastToggle = document.getElementById('show-past-toggle');
                const mainContainer = document.querySelector('main.space-y-8');
                if (!mainContainer || !showPastToggle) return;
                
                // Store original titles
                const timezoneTitles = {
                    'time-montreal-block': document.querySelector('#time-montreal-block h2'),
                    'time-chicago-block': document.querySelector('#time-chicago-block h2'),
                    'time-taipei-block': document.querySelector('#time-taipei-block h2'),
                };
                const originalTitles = {};
                for(const id in timezoneTitles) {
                    if(timezoneTitles[id]) originalTitles[id] = timezoneTitles[id].textContent;
                }


                showPastToggle.checked = false;

                const getTodayString = () => {
                    const today = new Date();
                    const year = today.getFullYear();
                    const month = String(today.getMonth() + 1).padStart(2, '0');
                    const day = String(today.getDate()).padStart(2, '0');
                    return `${year}-${month}-${day}`;
                };
                const todayString = getTodayString();

                let todayElement = null;
                let todayCityTargetId = null;
                let todayWeatherCity = null;

                document.querySelectorAll('[data-date]').forEach(el => {
                    const dateStr = el.dataset.date;
                    if (!dateStr) return;
                    
                    el.classList.remove('day-past');
                    const summary = el.querySelector('summary');
                    if (summary) summary.classList.remove('summary-today');
                    
                    if (dateStr < todayString) {
                        el.classList.add('day-past');
                        if (el.querySelector('details')) el.querySelector('details').open = false;
                    } else if (dateStr === todayString) {
                        todayElement = el;
                        todayCityTargetId = el.dataset.cityTarget;
                        todayWeatherCity = el.dataset.weatherCity;

                        const summaryElement = el.querySelector('summary');
                        if (summaryElement) {
                            summaryElement.classList.add('summary-today');
                            const h3 = summaryElement.querySelector('h3');
                            const marker = h3?.querySelector('.today-marker');
                            if(h3 && !marker) {
                                h3.insertAdjacentHTML('beforeend', ' <span class="today-marker text-base font-medium text-green-600">(ä»Šæ—¥è¡Œç¨‹)</span>');
                            }
                        }
                    }
                });
                
                document.querySelectorAll('.map-city-link').forEach(link => link.classList.remove('map-city-current'));
                if (todayCityTargetId) {
                    const currentCityLink = document.querySelector(`.map-city-link[data-city-id="${todayCityTargetId}"]`);
                    currentCityLink?.classList.add('map-city-current');
                }

                // --- DYNAMIC HIGHLIGHT LOGIC ---
                document.querySelectorAll('.timezone-block').forEach(block => block.classList.remove('timezone-highlight'));
                for(const id in timezoneTitles) {
                    if(timezoneTitles[id] && originalTitles[id]) timezoneTitles[id].textContent = originalTitles[id];
                }

                let highlightBlockId = 'time-taipei-block';
                if (todayWeatherCity) {
                    const eastern = ['montreal', 'quebec', 'niagara'];
                    if (eastern.includes(todayWeatherCity)) {
                        highlightBlockId = 'time-montreal-block';
                    } else if (todayWeatherCity === 'chicago') {
                        highlightBlockId = 'time-chicago-block';
                    }
                }
                
                const blockToHighlight = document.getElementById(highlightBlockId);
                const titleToUpdate = timezoneTitles[highlightBlockId];
                if (blockToHighlight && titleToUpdate) {
                    blockToHighlight.classList.add('timezone-highlight');
                    titleToUpdate.textContent = `${originalTitles[highlightBlockId]} (ç•¶åœ°)`;
                }

                const updateVisibility = () => mainContainer.classList.toggle('show-past', showPastToggle.checked);
                showPastToggle.addEventListener('change', updateVisibility);
                updateVisibility();

                if (todayElement && !window.location.hash) {
                    setTimeout(() => scrollToToday(true), 500);
                }
            }

            // --- Initial Calls ---
            updateClocks();
            setInterval(updateClocks, 1000);
            fetchAndDisplayWeather();
            initializeTripView();

        }); // End of DOMContentLoaded
    </script>
</body>
</html>
